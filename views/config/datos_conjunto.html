{% extends 'base_admin.html' %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-lg p-4">
        <h2 class="text-center text-primary fw-bold">⚙ Configuración App</h2>


        <!-- Mensajes de alerta -->
        {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        <form method="POST" action="{{ url_for('config.gestionar_datos_conjunto') }}" enctype="multipart/form-data">
            <!-- Nombre del conjunto -->
            <div class="mb-3">
                <label for="nombre" class="form-label fw-bold">Nombre App</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-home"></i></span>
                    <input type="text" class="form-control" id="nombre" name="nombre"
                        value="{{ datos.nombre if datos else '' }}" required>
                </div>
            </div>
            <!-- Dirección -->
            <div class="mb-3">
                <label for="direccion" class="form-label fw-bold">Dirección</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                    <input type="text" class="form-control" id="direccion" name="direccion"
                        value="{{ datos.direccion if datos else '' }}" required>
                </div>
            </div>
            <!-- Teléfono -->
            <div class="mb-3">
                <label for="telefono" class="form-label fw-bold">Teléfono</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                    <input type="text" class="form-control" id="telefono" name="telefono"
                        value="{{ datos.telefono if datos else '' }}" required>
                </div>
            </div>
            <!-- NIT -->
            <div class="mb-3">
                <label for="nit" class="form-label fw-bold">Correo Electonico</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-id-card"></i></span>
                    <input type="text" class="form-control" id="nit" name="nit" value="{{ datos.email if datos else '' }}"
                        required>
                </div>
            </div>
            
            

            <div class="d-flex gap-2 justify-content-center">
                <button type="submit" class="btn btn-primary px-4">Guardar Cambios</button>
                <a href="{{ url_for('config.configuracion') }}" class="btn btn-secondary px-4">Volver</a>
            </div>
        </form>
    </div>
</div>

<script>
  // Esperar a que la página cargue completamente
  document.addEventListener("DOMContentLoaded", function () {
    // Seleccionar todas las alertas
    const alerts = document.querySelectorAll(".alert");

    // Configurar el tiempo de desaparición (en milisegundos)
    const tiempoDesaparicion = 5000; // 5000 ms = 5 segundos (puedes cambiarlo a 10000 para 10 segundos)

    alerts.forEach(alert => {
      // Configurar un temporizador para eliminar la alerta
      setTimeout(() => {
        alert.classList.add("fade"); // Agregar clase para animación de desvanecimiento
        setTimeout(() => alert.remove(), 500); // Eliminar el elemento después de la animación
      }, tiempoDesaparicion);
    });
  });
</script>
{% endblock %}
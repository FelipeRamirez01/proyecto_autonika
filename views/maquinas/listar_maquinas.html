{% extends "base_admin.html" %}
{% block title %}Panel de Máquinas{% endblock %}

{% block content %}
<!-- Fondo principal -->
<div style="
    position: relative;
    background-image: url('{{ url_for('static', filename='img/fondo.jpg') }}');
    background-size: cover;
    background-position: center;
    padding: 40px;
    border-radius: 12px;
    overflow: hidden;
">
    <!-- Capa overlay para transparencia -->
    <div style="
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-color: rgba(0, 0, 0, 0.301);  /* Ajusta la opacidad aquí */
        z-index: 0;
        border-radius: 12px;
    "></div>
<!-- Contenido encima -->
    <div style="position: relative; z-index: 1;">
    <div class="text-center mb-4">
        <h1 class="h3 fw-bold text-dark bg-white bg-opacity-75 p-2 rounded">🛠️ Panel de Máquinas</h1>
    </div>

    {% if maquinas %}
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for maquina in maquinas %}
        <div class="col">
            <div class="card h-100 shadow-sm border border-dark" style="background-color: rgba(255, 255, 255, 0.856); color: rgb(14, 14, 14);">
                <div class="card-body">
                    <h5 class="card-title fw-bold">{{ maquina.nombre }}</h5>
                    <h6 class="card-subtitle mb-2 text-dark">📍 {{ maquina.ubicacion }}</h6>
                    <ul class="list-group list-group-flush my-3">
                        <li class="list-group-item bg-transparent text-dark">🌡️ Temp. Máx: <strong>{{ maquina.temperatura_max }} °C</strong></li>
                        <li class="list-group-item bg-transparent text-dark">🌡️ Temp. Mín: <strong>{{ maquina.temperatura_min }} °C</strong></li>
                        <li class="list-group-item bg-transparent text-dark">⚙️ Velocidad: <strong>{{ maquina.velocidad }} rpm</strong></li>
                        <li class="list-group-item bg-transparent text-dark">🏭 Producción: <strong>{{ maquina.produccion_min }} und/min</strong></li>
                    </ul>
                    <a href="{{ url_for('maquinas.ver_maquina', id=maquina.id) }}" class="btn btn-outline-dark w-100 mt-auto">
                        Ver Detalles
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-warning mt-5 text-center fs-5 bg-white bg-opacity-75" role="alert">
        ⚠️ No hay máquinas registradas en el sistema.
    </div>
    {% endif %}
</div>

</div>
{% endblock %}
